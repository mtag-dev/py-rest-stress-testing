---
layout: post
title: Results (2021-10-28)
description: Python Frameworks Benchmark Results (2021-10-28)
date:   (2021-10-28)
categories: results
---

<script src="https://cdn.jsdelivr.net/npm/chart.js@3.2.1/dist/chart.min.js"></script>

> This is a simple benchmark for python async frameworks. Almost all of the
> frameworks are ASGI-compatible (aiohttp and tornado are exceptions on the
> moment). 
> 
> The objective of the benchmark is not testing deployment (like uvicorn vs
> hypercorn and etc) or database (ORM, drivers) but instead test the frameworks
> itself. The benchmark checks request parsing (body, headers, formdata,
> queries), routing, responses.

Read more about the benchmark: [The Methodic](/py-frameworks-bench/about/)

# Table of contents

* [Accept a request and return HTML response with a custom dynamic header](#html)
* [Parse path params, query string, JSON body and return a json response](#api)
* [Parse uploaded file, store it on disk and return a text response](#upload)
* [Composite stats ](#composite)

<canvas id="chart" style="margin-bottom: 2em"></canvas>
<script>
    var ctx = document.getElementById('chart').getContext('2d');
    var myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: [],
            datasets: [
                {
                    label: 'Single HTML response (req/s)',
                    data: [],
                    backgroundColor: [
                        '#b9ddf1', '#afd6ed', '#a5cfe9', '#9bc7e4', '#92c0df', '#89b8da', '#80b0d5', '#79aacf', '#72a3c9', '#6a9bc3', '#6394be', '#5b8cb8', '#5485b2', '#4e7fac', '#4878a6', '#437a9f', '#3d6a98', '#376491', '#305d8a', '#2a5783',
                    ].reverse()
                },
                {
                    label: 'Work with JSON (req/s)',
                    data: ['3814','3770','3591','3584','3491','3487','3452','3428','3387','3339','3263','3253','3244','3242','3222','3220','3169','3157','3148','3122','3099','3031','3007','3003','2999','2998','2986','2898','2891','2886','2878','2833','2830','2827','2824','2811','2783','2777','2772','2651','2636','2631','2604','2553','2546','2542','2539','2535','2526','2507','2488','2480','2425','2416','2402','2393','2374','2357','2335','2318','2261','2186','2179','2139','2130','2122','2112','2100','2096','2074','2062','2037','2033','1993','1957','1854','1845','1820','1771','1705','1700','1694','1639','1616','1478','1446','1346','1345','1322','1311','1258','1179','1178','1170','1124','1109','1106','607','606','606','605','605','605','603','602',],
                    backgroundColor: [
                        '#b3e0a6', '#a5db96', '#98d687', '#8ed07f', '#85ca77', '#7dc370', '#75bc69', '#6eb663', '#67af5c', '#61a956', '#59a253', '#519c51', '#49964f', '#428f4d', '#398949', '#308344', '#2b7c40', '#27763d', '#256f3d', '#24693d',
                    ].reverse()
                },
                {
                    label: 'Upload file (req/s)',
                    data: [],
                    backgroundColor: [
                        '#ffc685', '#fcbe75', '#f9b665', '#f7ae54', '#f5a645', '#f59c3c', '#f49234', '#f2882d', '#f07e27', '#ee7422', '#e96b20', '#e36420', '#db5e20', '#d25921', '#ca5422', '#c14f22', '#b84b23', '#af4623', '#a64122', '#9e3d22',
                    ].reverse()
                },
            ]
        }
    });
</script>

##  Accept a request and return HTML response with a custom dynamic header {#html}

The test simulates just a single HTML response. 

Sorted by max req/s

| Framework | Requests/sec | Latency 50% (ms) | Latency 75% (ms) | Latency Avg (ms) |
| --------- | -----------: | ---------------: | ---------------: | ---------------: |


## Parse path params, query string, JSON body and return a json response  {#api}
The test simulates a simple JSON REST API endpoint.  

Sorted by max req/s

| Framework | Requests/sec | Latency 50% (ms) | Latency 75% (ms) | Latency Avg (ms) |
| --------- | -----------: | ---------------: | ---------------: | ---------------: |
| [fastapi](https://pypi.org/project/fastapi/) `` | 3814 | 15.94 | 17.53 | 18.60
| [fastapi](https://pypi.org/project/fastapi/) `` | 3770 | 33.16 | 35.30 | 33.80
| [fastapi](https://pypi.org/project/fastapi/) `` | 3591 | 34.82 | 37.07 | 35.58
| [fastapi](https://pypi.org/project/fastapi/) `` | 3584 | 34.77 | 37.33 | 35.60
| [fastapi](https://pypi.org/project/fastapi/) `` | 3491 | 35.90 | 38.24 | 36.67
| [fastapi](https://pypi.org/project/fastapi/) `` | 3487 | 17.92 | 19.55 | 18.35
| [fastapi](https://pypi.org/project/fastapi/) `` | 3452 | 36.05 | 38.80 | 36.96
| [fastapi](https://pypi.org/project/fastapi/) `` | 3428 | 36.34 | 38.96 | 37.22
| [fastapi](https://pypi.org/project/fastapi/) `` | 3387 | 36.74 | 39.68 | 37.70
| [fastapi](https://pypi.org/project/fastapi/) `` | 3339 | 37.08 | 40.80 | 38.28
| [fastapi](https://pypi.org/project/fastapi/) `` | 3263 | 38.40 | 41.24 | 39.19
| [fastapi](https://pypi.org/project/fastapi/) `` | 3253 | 20.44 | 22.09 | 19.66
| [fastapi](https://pypi.org/project/fastapi/) `` | 3244 | 20.49 | 22.31 | 19.69
| [fastapi](https://pypi.org/project/fastapi/) `` | 3242 | 20.10 | 22.54 | 19.89
| [fastapi](https://pypi.org/project/fastapi/) `` | 3222 | 20.44 | 22.34 | 19.82
| [fastapi](https://pypi.org/project/fastapi/) `` | 3220 | 38.71 | 41.99 | 39.70
| [fastapi](https://pypi.org/project/fastapi/) `` | 3169 | 20.33 | 22.81 | 20.20
| [fastapi](https://pypi.org/project/fastapi/) `` | 3157 | 20.77 | 22.52 | 20.44
| [fastapi](https://pypi.org/project/fastapi/) `` | 3148 | 20.76 | 23.12 | 20.29
| [fastapi](https://pypi.org/project/fastapi/) `` | 3122 | 19.02 | 24.23 | 20.49
| [fastapi](https://pypi.org/project/fastapi/) `` | 3099 | 40.37 | 43.23 | 41.16
| [fastapi](https://pypi.org/project/fastapi/) `` | 3031 | 38.02 | 47.61 | 40.91
| [fastapi](https://pypi.org/project/fastapi/) `` | 3007 | 21.29 | 24.18 | 21.34
| [fastapi](https://pypi.org/project/fastapi/) `` | 3003 | 22.16 | 24.05 | 21.30
| [fastapi](https://pypi.org/project/fastapi/) `` | 2999 | 41.40 | 44.88 | 42.62
| [fastapi](https://pypi.org/project/fastapi/) `` | 2998 | 43.22 | 47.41 | 42.61
| [fastapi](https://pypi.org/project/fastapi/) `` | 2986 | 41.52 | 45.50 | 42.78
| [fastapi](https://pypi.org/project/fastapi/) `` | 2898 | 22.84 | 24.74 | 22.10
| [fastapi](https://pypi.org/project/fastapi/) `` | 2891 | 22.63 | 25.37 | 22.18
| [fastapi](https://pypi.org/project/fastapi/) `` | 2886 | 21.96 | 23.81 | 22.17
| [fastapi](https://pypi.org/project/fastapi/) `` | 2878 | 45.47 | 48.84 | 44.23
| [fastapi](https://pypi.org/project/fastapi/) `` | 2833 | 23.01 | 24.84 | 22.52
| [fastapi](https://pypi.org/project/fastapi/) `` | 2830 | 23.36 | 25.28 | 22.58
| [fastapi](https://pypi.org/project/fastapi/) `` | 2827 | 23.17 | 25.21 | 22.59
| [fastapi](https://pypi.org/project/fastapi/) `` | 2824 | 22.94 | 24.53 | 22.67
| [fastapi](https://pypi.org/project/fastapi/) `` | 2811 | 44.81 | 49.38 | 45.37
| [fastapi](https://pypi.org/project/fastapi/) `` | 2783 | 22.33 | 24.87 | 23.00
| [fastapi](https://pypi.org/project/fastapi/) `` | 2777 | 46.88 | 50.13 | 46.05
| [fastapi](https://pypi.org/project/fastapi/) `` | 2772 | 46.29 | 49.48 | 46.15
| [fastapi](https://pypi.org/project/fastapi/) `` | 2651 | 47.08 | 51.15 | 48.24
| [fastapi](https://pypi.org/project/fastapi/) `` | 2636 | 24.13 | 27.00 | 24.94
| [fastapi](https://pypi.org/project/fastapi/) `` | 2631 | 41.44 | 48.76 | 50.30
| [fastapi](https://pypi.org/project/fastapi/) `` | 2604 | 24.18 | 27.17 | 24.93
| [fastapi](https://pypi.org/project/fastapi/) `` | 2553 | 49.61 | 54.27 | 50.11
| [fastapi](https://pypi.org/project/fastapi/) `` | 2546 | 24.03 | 27.42 | 25.06
| [fastapi](https://pypi.org/project/fastapi/) `` | 2542 | 24.21 | 28.21 | 25.09
| [fastapi](https://pypi.org/project/fastapi/) `` | 2539 | 24.27 | 27.60 | 25.08
| [fastapi](https://pypi.org/project/fastapi/) `` | 2535 | 50.36 | 53.54 | 50.39
| [fastapi](https://pypi.org/project/fastapi/) `` | 2526 | 49.75 | 58.55 | 50.60
| [fastapi](https://pypi.org/project/fastapi/) `` | 2507 | 26.36 | 28.60 | 25.55
| [fastapi](https://pypi.org/project/fastapi/) `` | 2488 | 25.32 | 28.14 | 25.85
| [fastapi](https://pypi.org/project/fastapi/) `` | 2480 | 51.54 | 55.92 | 51.54
| [fastapi](https://pypi.org/project/fastapi/) `` | 2425 | 25.56 | 29.18 | 26.30
| [fastapi](https://pypi.org/project/fastapi/) `` | 2416 | 48.39 | 52.96 | 47.13
| [fastapi](https://pypi.org/project/fastapi/) `` | 2402 | 12.60 | 15.61 | 13.40
| [fastapi](https://pypi.org/project/fastapi/) `` | 2393 | 66.81 | 73.33 | 68.14
| [fastapi](https://pypi.org/project/fastapi/) `` | 2374 | 43.38 | 47.64 | 42.58
| [fastapi](https://pypi.org/project/fastapi/) `` | 2357 | 26.01 | 29.95 | 27.24
| [fastapi](https://pypi.org/project/fastapi/) `` | 2335 | 81.08 | 87.93 | 81.16
| [fastapi](https://pypi.org/project/fastapi/) `` | 2318 | 52.65 | 57.28 | 53.10
| [fastapi](https://pypi.org/project/fastapi/) `` | 2261 | 26.33 | 31.75 | 28.40
| [fastapi](https://pypi.org/project/fastapi/) `` | 2186 | 44.24 | 51.16 | 46.37
| [fastapi](https://pypi.org/project/fastapi/) `` | 2179 | 53.52 | 57.65 | 53.69
| [fastapi](https://pypi.org/project/fastapi/) `` | 2139 | 13.95 | 15.81 | 15.65
| [fastapi](https://pypi.org/project/fastapi/) `` | 2130 | 50.70 | 55.70 | 49.31
| [fastapi](https://pypi.org/project/fastapi/) `` | 2122 | 28.69 | 32.11 | 30.86
| [fastapi](https://pypi.org/project/fastapi/) `` | 2112 | 51.36 | 57.16 | 49.85
| [fastapi](https://pypi.org/project/fastapi/) `` | 2100 | 14.33 | 16.50 | 15.72
| [fastapi](https://pypi.org/project/fastapi/) `` | 2096 | 14.78 | 16.77 | 15.32
| [fastapi](https://pypi.org/project/fastapi/) `` | 2074 | 14.38 | 16.62 | 15.66
| [fastapi](https://pypi.org/project/fastapi/) `` | 2062 | 97.71 | 109.84 | 140.90
| [fastapi](https://pypi.org/project/fastapi/) `` | 2037 | 54.19 | 60.54 | 54.73
| [fastapi](https://pypi.org/project/fastapi/) `` | 2033 | 15.51 | 17.70 | 15.83
| [fastapi](https://pypi.org/project/fastapi/) `` | 1993 | 125.92 | 144.79 | 164.83
| [fastapi](https://pypi.org/project/fastapi/) `` | 1957 | 45.33 | 51.94 | 102.17
| [fastapi](https://pypi.org/project/fastapi/) `` | 1854 | 54.05 | 60.09 | 106.67
| [fastapi](https://pypi.org/project/fastapi/) `` | 1845 | 48.66 | 57.59 | 61.45
| [fastapi](https://pypi.org/project/fastapi/) `` | 1820 | 59.23 | 66.40 | 60.00
| [fastapi](https://pypi.org/project/fastapi/) `` | 1771 | 8.12 | 9.36 | 9.28
| [fastapi](https://pypi.org/project/fastapi/) `` | 1705 | 55.71 | 57.41 | 64.34
| [fastapi](https://pypi.org/project/fastapi/) `` | 1700 | 56.37 | 58.14 | 63.96
| [fastapi](https://pypi.org/project/fastapi/) `` | 1694 | 58.28 | 61.10 | 58.68
| [fastapi](https://pypi.org/project/fastapi/) `` | 1639 | 59.32 | 62.05 | 60.65
| [fastapi](https://pypi.org/project/fastapi/) `` | 1616 | 8.91 | 10.75 | 10.21
| [fastapi](https://pypi.org/project/fastapi/) `` | 1478 | 61.99 | 66.00 | 103.97
| [fastapi](https://pypi.org/project/fastapi/) `` | 1446 | 61.82 | 65.88 | 108.74
| [fastapi](https://pypi.org/project/fastapi/) `` | 1346 | 48.07 | 50.69 | 47.47
| [fastapi](https://pypi.org/project/fastapi/) `` | 1345 | 47.27 | 49.09 | 47.64
| [fastapi](https://pypi.org/project/fastapi/) `` | 1322 | 5.78 | 6.51 | 6.46
| [fastapi](https://pypi.org/project/fastapi/) `` | 1311 | 73.39 | 81.68 | 76.72
| [fastapi](https://pypi.org/project/fastapi/) `` | 1258 | 48.85 | 52.73 | 51.21
| [fastapi](https://pypi.org/project/fastapi/) `` | 1179 | 53.83 | 54.80 | 54.06
| [fastapi](https://pypi.org/project/fastapi/) `` | 1178 | 54.25 | 55.44 | 54.65
| [fastapi](https://pypi.org/project/fastapi/) `` | 1170 | 6.12 | 7.13 | 7.06
| [fastapi](https://pypi.org/project/fastapi/) `` | 1124 | 54.54 | 56.02 | 56.98
| [fastapi](https://pypi.org/project/fastapi/) `` | 1109 | 56.01 | 59.09 | 58.25
| [fastapi](https://pypi.org/project/fastapi/) `` | 1106 | 80.56 | 101.42 | 91.78
| [fastapi](https://pypi.org/project/fastapi/) `` | 607 | 52.87 | 53.54 | 52.99
| [fastapi](https://pypi.org/project/fastapi/) `` | 606 | 52.87 | 53.49 | 52.95
| [fastapi](https://pypi.org/project/fastapi/) `` | 606 | 53.01 | 53.58 | 53.16
| [fastapi](https://pypi.org/project/fastapi/) `` | 605 | 53.00 | 53.65 | 53.11
| [fastapi](https://pypi.org/project/fastapi/) `` | 605 | 52.99 | 53.65 | 53.10
| [fastapi](https://pypi.org/project/fastapi/) `` | 605 | 52.93 | 53.73 | 53.11
| [fastapi](https://pypi.org/project/fastapi/) `` | 603 | 53.17 | 53.83 | 53.30
| [fastapi](https://pypi.org/project/fastapi/) `` | 602 | 53.15 | 53.80 | 53.22


## Parse uploaded file, store it on disk and return a text response  {#upload}
The test simulates multipart formdata processing and work with files.  

Sorted by max req/s

| Framework | Requests/sec | Latency 50% (ms) | Latency 75% (ms) | Latency Avg (ms) |
| --------- | -----------: | ---------------: | ---------------: | ---------------: |


## Composite stats {#composite}
Combined benchmarks results

Sorted by completed requests

| Framework | Requests completed | Avg Latency 50% (ms) | Avg Latency 75% (ms) | Avg Latency (ms) |
| --------- | -----------------: | -------------------: | -------------------: | ---------------: |
